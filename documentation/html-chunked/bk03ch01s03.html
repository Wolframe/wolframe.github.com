<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>1.3. Building on Windows systems (the NMAKE way)</title><link rel="stylesheet" type="text/css" href="/layout/styles/main.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /><link rel="home" href="index.html" title="Wolframe documentation" /><link rel="up" href="bk03ch01.html" title="Chapter 1. Installation from source" /><link rel="prev" href="bk03ch01s02.html" title="1.2. Building on Unix systems" /><link rel="next" href="bk04.html" title="Wolframe Server Extension Modules" />
	<title xmlns="">Project Wolframe</title>
	<meta xmlns="" charset="utf-8" />
	<meta xmlns="" name="viewport" content="width=device-width, initial-scale=1.0" />

	<link xmlns="" rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />

	<link xmlns="" href="/layout/styles/main.css" rel="stylesheet" type="text/css" media="all" />
	<link xmlns="" href="/layout/styles/mediaqueries.css" rel="stylesheet" type="text/css" media="all" />

	<!--[if lt IE 9]>
		<link href="/layout/styles/ie/ie8.css" rel="stylesheet" type="text/css" media="all" />
		<script src="/layout/scripts/ie/css3-mediaqueries.min.js"></script>
		<script src="/layout/scripts/ie/html5shiv.min.js"></script>
	<![endif]-->


</head><body>


<div xmlns="" class="wrapper row1">
	<header id="header" class="full_width clear">
		<div id="header-logo">
			<h1><a href="/index.html">Project Wolframe</a></h1>
			<h2>The Straight Path to Successful Projects</h2>
		</div>
		<div id="header-search">
			<form id="cse-search-box" action="http://www.wolframe.net/gsearch.html">
				<input type="hidden" name="cx" value="007231504736047898702:wrnjvfljzvu" />
				<input type="hidden" name="ie" value="UTF-8" />
				<input type="text" name="q" size="31" />
<!--				<input type="submit" name="sa" value="&#xf002;" /> -->
				<input type="submit" name="sa" class="search-bttn" value="" />
			</form>
		</div>
	</header>
</div>

<!-- ################################################################################################ -->
<div xmlns="" class="wrapper row2">
	<nav id="topnav">
		<ul class="clear">
<!-- BEGIN MENU -->
			<li><a href="/index.html" title="Home">Home</a></li>
			<li><a href="/downloads.html" title="Downloads">Downloads</a></li>
			<li class="active"><a href="/documentation.html" title="Documentation">Documentation</a></li>
			<li><a class="drop" href="/support.html" title="Support">Support</a>
				<ul>
					<li><a href="/faqs.html" title="FAQ">FAQ</a></li>
					<li><a href="http://sourceforge.net/p/wolframe/mailman/" title="Mailing lists">Mailing lists</a></li>
				</ul>
			</li>
			<li class="last-child"><a href="/contact.html" title="Contact Us">Contact Us</a></li>
<!-- END MENU -->
		</ul>
	</nav>
</div>

<!-- ################################################################################################ -->
<div class="wrapper row3"><div id="container"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1.3. Building on Windows systems (the NMAKE way)</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="bk03ch01s02.html">Prev</a> </td><th width="60%" align="center">Chapter 1. Installation from source</th><td width="20%" align="right"> <a accesskey="n" href="bk04.html">Next</a></td></tr></table><hr /></div><div class="sect1"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="idp1380375636"></a>1.3. Building on Windows systems (the NMAKE way)</h2></div></div></div><p>
			This is the Unix-style compilation using the Visual
			Studio Command Line Window and NMAKE. This is the
			preferred way currently.
		</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380363660"></a>1.3.1. Prerequisites</h3></div></div></div><p>
			For building <span class="application">Wolframe</span> on 
			Windows you need at least the following software:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
					Visual Studio C++ 2008 or newer (<code class="filename">cl.exe</code>, <code class="filename">rc.exe</code>, <code class="filename">link.exe</code> and <code class="filename">nmake.exe</code>)
				</p></li><li class="listitem"><p>
					Platform SDK 6.0a or newer
				</p></li><li class="listitem"><p>
					<code class="filename">mc.exe</code> may be missing in your path (for instance in Visual Studio 2008
					it was not bundled),
					usually it is available as part of the Platform SDK,
					copy it somewhere into the path
				</p></li><li class="listitem"><p>Boost 1.48.0 or newer from <a class="ulink" href="http://www.boost.org" target="_top">http://www.boost.org</a></p></li></ul></div><p>
			Depending on the features you want to use you also may need
			the following software:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
					The OpenSSL library 0.9.7 or newer, for encryption and authentication,
					<a class="ulink" href="http://www.openssl.org" target="_top">http://www.openssl.org</a>
				</p></li><li class="listitem"><p>
					The PostgreSQL database client library, version 8.1 or newer, for storing user data
					and authentication data in a PostgreSQL database,
					<a class="ulink" href="http://postgresql.org" target="_top">http://postgresql.org</a>
				</p></li><li class="listitem"><p>
					The Oracle OCI client library, version 11.2 or newer, for storing user data
					and authentication data in an Oracle database,
					<a class="ulink" href="http://www.oracle.com" target="_top">http://www.oracle.com</a>
				</p></li><li class="listitem"><p>
					The win-iconv library, version 0.0.3 or newer, needed by libxml2,
					<a class="ulink" href="http://code.google.com/p/win-iconv/" target="_top">http://code.google.com/p/win-iconv/</a>
				</p></li><li class="listitem"><p>
					The libxml2 library, version 2.7.6 or newer, for filtering XML data,
					<a class="ulink" href="http://xmlsoft.org/" target="_top">http://xmlsoft.org/</a>
				</p></li><li class="listitem"><p>
					The libxslt library, version 1.1.26 or newer, for the transformation of
					XML data,
					<a class="ulink" href="http://xmlsoft.org/" target="_top">http://xmlsoft.org/</a>
				</p></li><li class="listitem"><p>
					Python 3, version 3.3.0 or newer, for writting applications in Python,
					<a class="ulink" href="https://www.python.org" target="_top">https://www.python.org</a>
				</p></li><li class="listitem"><p>
					The ICU library, version 3.5 or newer, for text normalization and conversion,
					<a class="ulink" href="http://site.icu-project.org/" target="_top">http://site.icu-project.org</a>
				</p></li></ul></div><p>
			For testing the <span class="application">Wolframe</span> software you need:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
					Expect 5.40 or newer, for running the Expect tests,
					<a class="ulink" href="http://expect.sourceforge.net/" target="_top">http://expect.sourceforge.net/</a>
				</p></li><li class="listitem"><p>
					Expect needs ActiveTcl 8.5 or newer, for running the Expect tests,
					<a class="ulink" href="http://www.activestate.com/activetcl" target="_top">http://www.activestate.com/activetcl</a>
				</p></li><li class="listitem"><p>
					A working telnet
				</p></li><li class="listitem"><p>
					A PostgreSQL or Oracle database when you want to run the database tests
				</p></li></ul></div><p>
			For building Windows packages you need:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
					The WIX Toolset, version 3.5 or newer,
					<a class="ulink" href="http://wixtoolset.org/" target="_top">http://wixtoolset.org/</a>
				</p></li></ul></div><p>
			For building the documentation and manpages you need:
		</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
					Doxygen for developer documentation,
					<a class="ulink" href="http://www.doxygen.org" target="_top">http://www.doxygen.org</a>
				</p></li><li class="listitem"><p>
					Docbook 4.5 or newer and the XSL toolchain,
					<a class="ulink" href="http://www.docbook.org" target="_top">http://www.docbook.org</a>
				</p></li><li class="listitem"><p>
					<code class="filename">xsltproc.exe</code>, from libxslt
					<a class="ulink" href="http://xmlsoft.org/" target="_top">http://xmlsoft.org/</a>
				</p></li><li class="listitem"><p>
					The FOP PDF generator for documentation in PDF format,
					<a class="ulink" href="http://xmlgraphics.apache.org/fop/" target="_top">http://xmlgraphics.apache.org/fop/</a>
				</p></li><li class="listitem"><p>
					 <code class="filename">hhc.exe</code>, help compiler from the 'HTML Help Workshop',
					 <a class="ulink" href="http://msdn.microsoft.com/en-us/library/windows/desktop/ms670169%28v=vs.85%29.aspx" target="_top">http://msdn.microsoft.com/en-us/library/windows/desktop/ms670169%28v=vs.85%29.aspx</a>
				</p></li></ul></div><p>
	For building the wolfclient you need:
</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><p>
			Qt 4.6.x or later, or Qt 5,
			<a class="ulink" href="http://qt-project.org/" target="_top">http://qt-project.org/</a>
		</p></li><li class="listitem"><p>
			For secure communication between the wolfclient and the Wolframe
			server you need the OpenSSL library 0.9.7 or newer,
			<a class="ulink" href="http://www.openssl.org" target="_top">http://www.openssl.org</a>
		</p></li></ul></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380433068"></a>1.3.2. Basic build instructions</h3></div></div></div><p>
			<span class="application">Wolframe</span> can be build in a Visual Studio command line (or better a Platform SDK command line)
			using the following command:

		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32
			</pre><p>
		</p><p>
			You can check the compilation mode with:
		        </p><pre class="programlisting">
	setenv
			</pre><p>
		</p><p>
			The makefiles understand the standard GNU targets like 'clean', 'distclean', 'test',
			etc. The whole list of options can be seen with:
			
		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 help
			</pre><p>
		</p><p>
			Configuration is all done in a file called <code class="filename">config.mk</code>.
			Examples can be found in the <code class="filename">makefiles/nmake</code> directory.
		</p><p>
			Optional features are enabled by using 'WITH_XXX' variables when
			calling nmake, e. g. to enable SSL support you call make like this:

		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_SSL=1
			</pre><p>
		</p><p>
			On Windows you would rather change the 'OPENSSL_DIR' variable in
			the <code class="filename">config.mk</code>, for instance:
		        </p><pre class="programlisting">
	OPENSSL_DIR = C:\OpenSSL\Win32
			</pre><p>
		</p><p>
			A complete build may look like this:

		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_SSL=1 WITH_EXPECT=1 WITH_LUA=1 ^
		WITH_SQLITE3=1 WITH_PGSQL=1 WITH_ORACLE=1 ^
		WITH_LIBXML2=1 WITH_LIBXSLT=1 ^
		WITH_LIBHPDF=1 WITH_EXAMPLES=1 WITH_ICU=1 WITH_FREEIMAGE=1 ^
		WITH_PYTHON=1 WITH_CJSON=1 WITH_TEXTWOLF=1 ^
		clean all test
			</pre><p>

		</p><p>
			We currently have no dependency system for the NMAKE
			build system, so be careful when to use 'clean' to 
			rebuild parts of the system.
		</p><p>
			This way of building the system is mainly useful for
			automatized systems and for packaging.
		</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380440988"></a>1.3.3. Using ccache and distcc</h3></div></div></div><p>
				Ccache (<a class="ulink" href="http://ccache.samba.org/" target="_top">http://ccache.samba.org/</a>) 
				can be used to cache the compilation of
				<span class="application">Wolframe</span> also on Windows.
			</p><p>
				You need then <code class="filename">ccache.exe</code> binary with MSVC support from
				<a class="ulink" href="http://cgit.freedesktop.org/libreoffice/contrib/dev-tools/tree/ccache-msvc" target="_top">http://cgit.freedesktop.org/libreoffice/contrib/dev-tools/tree/ccache-msvc</a>.
				You also need the Cygwin runtime from
				<a class="ulink" href="http://cygwin.org" target="_top">http://cygwin.org</a>.
				Install the <code class="filename">ccache.exe</code> binary into
				<code class="filename">c:\cygwin\bin</code>.
			</p><p>
				Set the 'CC' and 'CXX' variables in
				<code class="filename">makefiles\nmake\config.mk</code> as follows:
					
				</p><pre class="programlisting">
	CC=C:\cygwin\bin\ccache.exe cl
	CXX=C:\cygwin\bin\ccache.exe cl
			</pre><p>
			
			</p><p>
				Set the following variable in the shell you use to compile
				<span class="application">Wolframe</span>:
				
				</p><pre class="programlisting">
	Set CYGWIN=nodosfilewarning
				</pre><p>
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380447476"></a>1.3.4. Boost</h3></div></div></div><p>
					Boost (<a class="ulink" href="http://www.boost.org" target="_top">http://www.boost.org</a>) is the only
					library which is absolutely required in order to build
					<span class="application">Wolframe</span>.
				</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380448836"></a>Use prebuild version of Boost</h4></div></div></div><p>
					<a class="ulink" href="http://boost.teeks99.com" target="_top">http://boost.teeks99.com</a> provides
					pre-compiled packages of Boost. You can install the library into for instance
					<code class="filename">C:\boost\boost_1_55_0</code> and set the 'BOOST_XXX' variables in
					<code class="filename">makefiles\nmake\config.mk</code> as follows:
					
					</p><pre class="programlisting">
	BOOST_DIR = C:\Boost\boost_1_55
	BOOST_INCLUDE_DIR = $(BOOST_DIR)
	BOOST_LDFLAGS = /LIBPATH:$(BOOST_DIR)\lib32-msvc-10.0
	BOOST_VC_VER = vc100
	BOOST_MT = -mt
					</pre><p>

				</p><p>
					Rename the directory <code class="filename">C:\Boost\boost_1_55_0\libs</code> to
					<code class="filename">C:\Boost\boost_1_55_0\boost</code>.
				</p><p>
					<span class="bold"><strong>Note</strong></span>: Those pre-built packages don't
					have support for the ICU backend in boost-locale. If you need ICU
					support and enable it with 'WITH_ICU=1' you will have to build your
					own version of Boost from the sources.
				</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380453124"></a>Build your own version of Boost</h4></div></div></div><p>
					The following Boost libraries are required for building
					<span class="application">Wolframe</span>:

					</p><pre class="programlisting">
	bootstrap
	.\b2 --prefix=C:\boost\boost_1_55 ^
		--with-thread --with-filesystem --with-system --with-program_options ^
		--with-date_time ^
		architecture=x86 address-model=64 toolset=msvc ^
		install
					</pre><p>
				</p><p>
					Set 'architecture', 'address-mode' and 'toolset' fitting
					your platform.
				</p><p>
					If you want to build the ICU normalization
					module (WITH_ICU=1) you will have to build 'boost-locale'
					with ICU support and you have to enable the
					'regex' and the 'locale' boost libraries too:
				
					</p><pre class="programlisting">
	bootstrap
	.\b2 --prefix=C:\boost\boost_1_55 ^
		--with-thread --with-filesystem --with-system --with-program_options ^
		--with-date_time --with-locale --with-regex ^
		-sICU_PATH="C:\icu4c-52_1-win32-debug" ^
		architecture=x86 address-model=64 toolset=msvc ^
		install
					</pre><p>

				</p><p>
					Set the "BOOST_XXX" variables in
					<code class="filename">makefiles\nmake\config.mk</code> as follows:
					
					</p><pre class="programlisting">
	BOOST_DIR = C:\Boost\boost_1_55
	BOOST_INCLUDE_DIR = $(BOOST_DIR)
	BOOST_LDFLAGS = /LIBPATH:$(BOOST_DIR)\lib32-msvc-10.0
	BOOST_VC_VER = vc100
	BOOST_MT = -mt
					</pre><p>
					
				</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380457860"></a>1.3.5. Secure Socket Layer (SSL)</h3></div></div></div><p>
				The <span class="application">Wolframe</span> protocol can
				be secured with SSL. Currently only OpenSSL
				(<a class="ulink" href="http://www.openssl.org" target="_top">http://www.openssl.org</a>)
				is supported.
			
			</p><p>
				<span class="bold"><strong>Note</strong></span>: No matter whether you
				use the precompiled version or if you build OpenSSL on your own
				use the 0.9.8, 1.0.0 or 1.0.1g versions, but not  the version
				1.0.1 through 1.0.1f (Heartbleed bug)!
			</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380459980"></a>Use prebuild version of OpenSSL</h4></div></div></div><p>
					
					You can get a prebuilt version of OpenSSL from
					<a class="ulink" href="http://www.slproweb.com/products/Win32OpenSSL.html" target="_top">http://www.slproweb.com/products/Win32OpenSSL.html</a>.
					Despite the name you get also 64-bit versions there.
				</p><p>
					Install the developer version (for instance <code class="filename">Win32OpenSSL-1_0_1g.exe</code>)
					for instance to <code class="filename">C:\OpenSSL-Win32</code>.
				</p><p>
					Do not copy the OpenSSL binaries to the Windows system directory, copy
					them to the Bin subdirectory of the OpenSSL installation directory!
				</p><p>
					Set the "BOOST_XXX" variables in
					<code class="filename">makefiles\nmake\config.mk</code> as follows:
					
					</p><pre class="programlisting">
	OPENSSL_DIR = C:\OpenSSL-Win32
					</pre><p>
				</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380463684"></a>Build your own version of OpenSSL</h4></div></div></div><p>
					You need the community edition of ActivePerl from
					<a class="ulink" href="http://www.activestate.com/activeperl/" target="_top">http://www.activestate.com/activeperl/</a>.
					Install it for instance to <code class="filename">C:\Perl</code>.
				</p><p>
					You will also need NASM to assemble certain
					parts of OpenSSL. You can get a Windows NASM from
					<a class="ulink" href="http://www.nasm.us/" target="_top">http://www.nasm.us/</a>.
					Install it for instance to <code class="filename">C:\nasm</code>.
				</p><p>
					Make sure the Perl interpreter and the NASM assembler are part of the path in
					the shell you want to build OpenSSL:
					
					</p><pre class="programlisting">
	Set PATH=%PATH%;C:\Perl\bin;C:\nasm
					</pre><p>
				</p><p>
					Get the source package <code class="filename">openssl-1.0.1g.tar.gz</code> of OpenSSL from
					<a class="ulink" href="http://www.openssl.org" target="_top">http://www.openssl.org</a>.
				</p><p>
					Configure the package with:
					
					</p><pre class="programlisting">
	perl Configure debug-VC-WIN32 \
		--prefix="C:\openssl-1.0.1g-win32-debug"
					</pre><p>
					
					for a debug version, respectively with:
					
					</p><pre class="programlisting">
	perl Configure VC-WIN32 \
		--prefix="C:\openssl-1.0.1g-win32-release"
					</pre><p>
					
					for a release version.
				</p><p>
					<span class="bold"><strong>Note</strong></span>:
					Make sure there prefix you choose has no spaces in it!
				</p><p>
					Prepare OpenSSL for NASM support with:
					
					</p><pre class="programlisting">
	ms\do_nasm.bat
					</pre><p>
				</p><p>
					Build and install OpenSSL now with:
					</p><pre class="programlisting">
	nmake /f ms\ntdll.mak
	nmake /f ms\ntdll.mak install
					</pre><p>
				</p><p>
					More build information is available
					in <code class="filename">INSTALL.W32</code> and
					<code class="filename">INSTALL.W64</code> of the 
					OpenSSL package itself.
				</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380473012"></a>1.3.6. SQLite database support</h3></div></div></div><p>
				<span class="application">Wolframe</span> can use
				an Sqlite3 database (<a class="ulink" href="http://sqlite.org" target="_top">http://sqlite.org</a>)
				as backend for data storage and for authentication and
				autorization.
			</p><p>
				The Sqlite3 library is embedded in the subdirectory
				<code class="filename">3rdParty/sqlite3</code>.
			</p><p>
				You enable the building of a loadable Sqlite3 database
				module with:

		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_SQLITE3=1
			</pre><p>
							
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380476076"></a>1.3.7. PostgreSQL database support</h3></div></div></div><p>
				<span class="application">Wolframe</span> can use
				a PostgreSQL database (<a class="ulink" href="http://postgresql.org" target="_top">http://postgresql.org</a>)
				as backend for data storage and for authentication and
				autorization.
			</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380477476"></a>Use prebuild version of PostgreSQL</h4></div></div></div><p>
					Download the Windows installer from EnterpriseDB (you
					reach the download link via
					<a class="ulink" href="http://postgresql.org" target="_top">http://postgresql.org</a>).
				</p><p>
					You will have to set some variables in
					<code class="filename">makefiles\nmake\config.mk</code> as follows:
					
					</p><pre class="programlisting">
	PGSQL_DIR = C:\Program Files\PostgreSQL\9.3
	PGDLL_WITH_I18N = 1
					</pre><p>
				</p><p>
					You enable the building of a loadable PostgreSQL database
					module with:

				</p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_PGSQL=1
				</pre><p>
							
				</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380480596"></a>Build your own version of PostgreSQL</h4></div></div></div><p>
					You need the community edition of ActivePerl from
					<a class="ulink" href="http://www.activestate.com/activeperl/" target="_top">http://www.activestate.com/activeperl/</a>.
					Install it for instance to <code class="filename">C:\Perl</code>.
				</p><p>
					Make sure the Perl interpreter is part of the path in
					the shell you want to build PostgreSQL:
					
					</p><pre class="programlisting">
	Set PATH=%PATH%;C:\Perl\bin
					</pre><p>
				</p><p>
					Get the source package <code class="filename">postgresql-9.3.4.tar.gz</code> of PostgreSQL from
					<a class="ulink" href="http://www.postgresql.org" target="_top">http://www.opstgresql.org</a>.
				</p><p>
					Configure the package in the <code class="filename">config.pl</code>
					file which you create as follows:
					
					</p><pre class="programlisting">
	cd src\tools\msvc
	copy config_default.pl config.pl
					</pre><p>
				</p><p>
					Adapt <code class="filename">config.pl</code> to your needs. We actually don't
					want to build the full server just the client PostgreSQL library, so
					specifying the location of OpenSSL is enough:
					
					</p><pre class="programlisting">
	openssl=&gt;"C:\\openssl-1.0.1g-win32-debug"
					</pre><p>
					
					<span class="bold"><strong>Note</strong></span>: Those must be two backslashes!
				</p><p>
					If you built your own version of OpenSSL before you will be missing
					some linking libraries in the right places. So copy them with:

					</p><pre class="programlisting">
	mkdir C:\openssl-1.0.1g-win32-debug\lib\VC
	copy C:\openssl-1.0.1g-win32-debug\lib\libeay32.lib ^
		C:\openssl-1.0.1g-win32-debug\lib\VC\libeay32MDd.lib
	copy C:\openssl-1.0.1g-win32-debug\lib\ssleay32.lib ^
		C:\openssl-1.0.1g-win32-debug\lib\VC\ssleay32MDd.lib
					</pre><p>
					
					respectively if you built the release version:

					</p><pre class="programlisting">
	mkdir C:\openssl-1.0.1g-win32-release\lib\VC
	copy C:\openssl-1.0.1g-win32-release\lib\libeay32.lib ^
		C:\openssl-1.0.1g-win32-release\lib\VC\libeay32MD.lib
	copy C:\openssl-1.0.1g-win32-release\lib\ssleay32.lib ^
		C:\openssl-1.0.1g-win32-release\lib\VC\ssleay32MD.lib
					</pre><p>
					
				</p><p>
					Build the <code class="filename">libpq</code> library now with:
					
					</p><pre class="programlisting">
	build DEBUG libpq
					</pre><p>
					
					respectively if you prefer a release version:
					
					</p><pre class="programlisting">
	build RELEASE libpq
					</pre><p>
					
				</p><p>
					<span class="bold"><strong>Note</strong></span>:
					You may have to touch <code class="filename">preproc.c</code> and
					<code class="filename">preproc.h</code> if 'build' wants
					to start 'bison' and you don't have 'bison' installed.
				</p><p>
					Install the PostgreSQL client library for instance
					to <code class="filename">C:\PostgreSQL-9.3.4-win32-debug</code> with:
					
					</p><pre class="programlisting">
	install C:\PostgreSQL-9.3.4-win32-debug
					</pre><p>
				</p><p>
					<span class="bold"><strong>Note</strong></span>: Unless you
					were able to build the whole PostgreSQL the 'install'
					script will fail. In this case copy the essential files
					to for instance <code class="filename">C:\PostgreSQL-9.3.4-win32-debug</code> with:
					
					</p><pre class="programlisting">
	mkdir C:\PostgreSQL-9.3.4\include
	mkdir C:\PostgreSQL-9.3.4\lib
	copy Debug\libpq\libpq.dll C:\PostgreSQL-9.3.4\lib
	copy Debug\libpq\libpq.lib C:\PostgreSQL-9.3.4\lib
	copy src\interfaces\libpq\libpq-fe.h C:\PostgreSQL-9.3.4\include
	copy src\include\postgres_ext.h C:\PostgreSQL-9.3.4\include
	copy src\include\pg_config_ext.h C:\PostgreSQL-9.3.4\include
					</pre><p>
				</p><p>
					<span class="bold"><strong>Note</strong></span>:
					If you disable OpenSSL (for instance for debugging), you have
					to touch <code class="filename">sslinfo.sql</code> in <code class="filename">contrib/sslinfo</code>.
					The same applies for 
					<code class="filename">uuid-ossp.sql</code> and <code class="filename">pgxml.sql.in</code>.
				</p><p>
					<span class="bold"><strong>Note</strong></span>:
					If you want to build PostgrSQL with gettext/libint or zlib support
					you have to build those libraries first, or get
					them from <a class="ulink" href="http://gnuwin32.sourceforge.net/packages.html" target="_top">http://gnuwin32.sourceforge.net/packages.html</a>.
				</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380498364"></a>1.3.8. Oracle database support</h3></div></div></div><p>
				<span class="application">Wolframe</span> can use
				a Oracle database (<a class="ulink" href="http://www.oracle.com" target="_top">http://www.oracle.com</a>)
				as backend for data storage and for authentication and
				autorization.
			</p><p>
				<span class="bold"><strong>Import note</strong></span>: Make sure you
				have all the licenses to develop with Oracle and to install an
				Oracle database! The <span class="application">Wolframe</span> team
				doesn't take any responsability if licenses are violated!
			</p><p>
				You have to download the two packages
				<code class="filename">instantclient-basic-nt-12.1.0.1.0.zip</code> and
				<code class="filename">instantclient-sdk-nt-12.1.0.1.0.zip</code> and
				install them to for instance
				<code class="filename">C:\Oracle\instantclient_12_1</code>.
			</p><p>
				You will have to set the 'ORACLE_DIR' variable in
				<code class="filename">makefiles\nmake\config.mk</code> as follows:
				
				</p><pre class="programlisting">
	ORACLE_DIR = C:\Oracle\instantclient_12_1
				</pre><p>
			</p><p>
				You enable the building of a loadable Oracle database
				module with:

		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_ORACLE=1
			</pre><p>
							
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380504532"></a>1.3.9. XML filtering support with libxml2 and libxslt</h3></div></div></div><p>
				<span class="application">Wolframe</span> can use
				libxml2 and libxslt (<a class="ulink" href="http://xmlsoft.org/" target="_top">http://xmlsoft.org/</a>)
				for filtering and the conversion of XML data.
			</p><p>
				You can build only filtering with libxml2. But if you enable libxslt
				filtering you also have to enable libxml2 filtering.
			</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380506220"></a>Use prebuild versions of libxml2 and libxslt</h4></div></div></div><p>
					Download the Windows ZIP files <code class="filename">libxml2-2.7.8.win32.zip</code>,
					<code class="filename">iconv-1.9.2.win32.zip</code> and
					<code class="filename">libxslt-1.1.26.win32.zip</code>
					from
					<a class="ulink" href="http://ftp.zlatkovic.com/libxml/" target="_top">http://ftp.zlatkovic.com/libxml/</a>).
					Unpack them for instance to:
					<code class="filename">C:\libxml2-2.7.8.win32</code>,
					<code class="filename">C:\iconv-1.9.2.win32</code> and
					<code class="filename">C:\libxslt-1.1.26.win32</code>.
				</p><p>
					You will have to set the following variables in
					<code class="filename">makefiles\nmake\config.mk</code>:
					
					</p><pre class="programlisting">
	ZLIB_DIR = C:\zlib-1.2.5.win32
	ICONV_DIR = C:\iconv-1.9.2.win32
	LIBXML2_DIR = C:\libxml2-2.7.8.win32
	LIBXSLT_DIR = C:\libxslt-1.1.26.win32
					</pre><p>
				</p><p>
					You enable the building of a loadable libxml2/libxslt filtering
					module with:

				</p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_LIBXML2=1 WITH_LIBXSLT=1
				</pre><p>
							
				</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380511716"></a>Build your own version of LibXML2</h4></div></div></div><p>
					For libxml2 to support character sets you need a working
					iconv library. We currently use 
					<code class="filename">win-iconv-0.0.6.zip</code> from
					<a class="ulink" href="http://code.google.com/p/win-iconv/" target="_top">http://code.google.com/p/win-iconv/</a>.
				</p><p>
					Build <code class="filename">iconv.dll</code> with
					the supplied makefile from 
					<code class="filename">packaging\patches\Windows\win-iconv\Makefile.msvc</code>
					and install the results to for instance
					<code class="filename">C:\win-iconv-0.0.6-win32-debug</code> with:

					</p><pre class="programlisting">
	nmake /nologo /f Makefile.msvc DEBUG=1
	mkdir C:\win-iconv-0.0.6-win32-debug
	mkdir C:\win-iconv-0.0.6-win32-debug\include
	mkdir C:\win-iconv-0.0.6-win32-debug\lib
	mkdir C:\win-iconv-0.0.6-win32-debug\bin
	copy iconv.h C:\win-iconv-0.0.6-win32-release\include
	copy iconv.lib C:\win-iconv-0.0.6-win32-debug\lib
	copy iconv.dll C:\win-iconv-0.0.6-win32-debug\bin
					</pre><p>
					
					respectively if you want to build a release version:

					</p><pre class="programlisting">
	nmake /nologo /f Makefile.msvc
	mkdir C:\win-iconv-0.0.6-win32-release
	mkdir C:\win-iconv-0.0.6-win32-release\include
	mkdir C:\win-iconv-0.0.6-win32-release\lib
	mkdir C:\win-iconv-0.0.6-win32-release\bin
	copy iconv.h C:\win-iconv-0.0.6-win32-release\include
	copy iconv.lib C:\win-iconv-0.0.6-win32-release\lib
	copy iconv.dll C:\win-iconv-0.0.6-win32-release\bin
					</pre><p>
					
				</p><p>
					Adapt the 'ICONV_DIR' variable in
					<code class="filename">makefiles\nmake\config.mk</code> as follows:
						
					</p><pre class="programlisting">
	ICONV_DIR = C:\win-iconv-0.0.6-win32-debug
					</pre><p>
				</p><p>
					Get the source package <code class="filename">libxml2-2.9.1.tar.gz</code> from
					<a class="ulink" href="ftp://xmlsoft.org/libxml2/" target="_top">ftp://xmlsoft.org/libxml2/</a>.
				</p><p>
					Configure libxml2, make it use the 'win-iconv' library:

					</p><pre class="programlisting">
	cd win32
	cscript configure.js compiler=msvc
		prefix="C:\libxml2-2.9.1-win32-release"
		lib="C:\win-iconv-0.0.6-win32-release\lib"
		include="C:\win-iconv-0.0.6-win32-release\include"
		zlib=no iconv=yes vcmanifest=yes
					</pre><p>
					
					For a debug version you have to change 'debug'
					to 'release' in the paths and to add 'debug=yes'
					and 'cruntime=/MDd':
					</p><pre class="programlisting">
	cd win32
	cscript configure.js compiler=msvc
		prefix="C:\libxml2-2.9.1-win32-debug"
		lib="C:\win-iconv-0.0.6-win32-debug\lib"
		include="C:\win-iconv-0.0.6-win32-debug\include"
		zlib=no iconv=yes vcmanifest=yes
		debug=yes cruntime=/MDd
					</pre><p>
	
				</p><p>
					<span class="bold"><strong>Note</strong></span>: Try to avoid spaces
					in the installation prefix, if you really need some spaces then you will
					have to fix them after running the <code class="filename">configure.js</code>
					script by hand in the <code class="filename">config.msvc</code> file:

					</p><pre class="programlisting">
	PREFIX="C:\libxml2-2.9.1 win32 debug"
					</pre><p>
				</p><p>
					Finally build and install libxml2 with:
					</p><pre class="programlisting">
	nmake /nologo /f Makefile.msvc all
	nmake /nologo /f Makefile.msvc install
					</pre><p>
				</p><p>
					Adapt the 'LIBXML2_DIR' variable in
					<code class="filename">makefiles\nmake\config.mk</code> as follows:
						
					</p><pre class="programlisting">
	LIBXML2_DIR = C:\libxml2-2.9.1-win32-debug
					</pre><p>
				</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380524684"></a>Build your own version of LibXSLT</h4></div></div></div><p>
					Get the source package <code class="filename">libxslt-1.1.28.tar.gz</code> from
					<a class="ulink" href="ftp://xmlsoft.org/libxslt/" target="_top">ftp://xmlsoft.org/libxslt/</a>.
				</p><p>
					Configure libxslt, make it use the 'win-iconv' and the 'libxml2' library
					compiled above:

					</p><pre class="programlisting">
	cd win32
	cscript configure.js compiler=msvc
		prefix="C:\libxslt-1.1.28-win32-release"
		lib="C:\libxml2-2.9.1-win32-release\lib;C:\win-iconv-0.0.6-win32-release\lib"
		include="C:\libxml2-2.9.1-win32-release\include\libxml2;C:\win-iconv-0.0.6-win32-release\include"
		zlib=no iconv=yes vcmanifest=yes
					</pre><p>
					
					For a debug version you have to change 'debug'
					to 'release' in the paths and to add 'debug=yes'
					and 'cruntime=/MDd':
					</p><pre class="programlisting">
	cd win32
	cscript configure.js compiler=msvc
		prefix="C:\libxslt-1.1.28-win32-debug"
		lib="C:\libxml2-2.9.1-win32-debug\lib;C:\win-iconv-0.0.6-win32-debug\lib"
		include="C:\libxml2-2.9.1-win32-debug\include;C:\win-iconv-0.0.6-win32-debug\include"
		zlib=no iconv=yes vcmanifest=yes
		debug=yes cruntime=/MDd
					</pre><p>
	
				</p><p>
					<span class="bold"><strong>Note</strong></span>: Try to avoid spaces
					in the installation prefix, if you really need some spaces then you will
					have to fix them after running the <code class="filename">configure.js</code>
					script by hand in the <code class="filename">config.msvc</code> file:

					</p><pre class="programlisting">
	PREFIX="C:\libxslt-1.1.28 win32 debug"
					</pre><p>
				</p><p>
					Finally build and install libxslt with:
					</p><pre class="programlisting">
	nmake /nologo /f Makefile.msvc all
	nmake /nologo /f Makefile.msvc install
					</pre><p>
				</p><p>
					Adapt the 'LIBXSLT_DIR' variable in
					<code class="filename">makefiles\nmake\config.mk</code> as follows:
						
					</p><pre class="programlisting">
	LIBXSLT_DIR = C:\libxslt-1.1.28-win32-debug
					</pre><p>
				</p><p>
					The DLLs end up in the wrong directory, move them from 
					'lib' to 'bin':
					</p><pre class="programlisting">
	cd C:\libxslt-1.1.28-win32-debug
	move lib\*.dll bin\.
					</pre><p>
				</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380533124"></a>1.3.10. XML filtering support with Textwolf</h3></div></div></div><p>
				<span class="application">Wolframe</span> can use
				Textwolf (<a class="ulink" href="http://textwolf.net" target="_top">http://textwolf.net</a>)
				for filtering and the conversion of XML data.
			</p><p>
				The textwolf library is embedded in the subdirectory
				<code class="filename">3rdParty/textwolf</code>.
			</p><p>
				You enable the building of a loadable Textwolf filtering
				module with:

		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_TEXTWOLF=1
			</pre><p>
							
			</p><p>
				<span class="bold"><strong>Note</strong></span>: If you plan to
				run tests when building the <span class="application">Wolframe</span>
				you should enable Textwolf as many tests rely on it's presence.
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380537164"></a>1.3.11. JSON filtering support with cJSON</h3></div></div></div><p>
				<span class="application">Wolframe</span> can use
				cJSON (<a class="ulink" href="http://sourceforge.net/projects/cjson/" target="_top">http://sourceforge.net/projects/cjson/</a>)
				for filtering and the conversion of JSON data.
			</p><p>
				The cjson library is embedded in the subdirectory
				<code class="filename">3rdParty/libcjson</code>.
			</p><p>
				You enable the building of a loadable cJSON filtering
				module with:

		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_CJSON=1
			</pre><p>
							
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380540228"></a>1.3.12. Scripting support with Lua</h3></div></div></div><p>
				<span class="application">Wolframe</span> can be scripted
				with Lua (<a class="ulink" href="http://www.lua.org" target="_top">http://www.lua.org</a>).
			</p><p>
				The Lua interpreter is embedded in the subdirectory
				<code class="filename">3rdParty/lua</code>.
			</p><p>
				You enable the building of a loadable Lua scripting
				module with:

		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_LUA=1
			</pre><p>
							
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380543204"></a>1.3.13. Scripting support with Python</h3></div></div></div><p>
				<span class="application">Wolframe</span> can be scripted
				with Python (<a class="ulink" href="https://www.python.org" target="_top">https://www.python.org</a>).
			</p><p>
				The module supports only version 3 of the Python interpreter,
				version 2 is not supported.
			</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380544820"></a>Use prebuild version of Python</h4></div></div></div><p>
					Download the official Python 3 Installer for Windows from
					<a class="ulink" href="http://python.org" target="_top">http://python.org</a>).
				</p><p>
					You will have to set the 'PYTHON_XXX' variables in
					<code class="filename">makefiles\nmake\config.mk</code> as follows:
					
					</p><pre class="programlisting">
	PYTHON_DIR = C:\Python34
	PYTHON_VERSION = 34
	PYTHON_MAJOR_VERSION = 3
	PYTHON_LIB_DIR = $(PYTHON_DIR)\libs
	PYTHON_DLL_DIR = $(PYTHON_DIR)\DLLs
					</pre><p>
				</p><p>
					You enable the building of a loadable Python scripting
					module with:

				</p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_PYTHON=1
				</pre><p>
				
				</p><p>
					<span class="bold"><strong>Note</strong></span>: The binary installation packages from
					<a class="ulink" href="http://python.org/" target="_top">http://python.org</a>) do not
					contain debug versions of the library. If you want to build a debugging version of 
					<span class="application">Wolframe</span> you have to build your own version of Python.
				</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380549460"></a>Build you own version of Python</h4></div></div></div><p>
					You have to get the sources of Python3 called
					<code class="filename">Python-3.4.0.tar</code> from
					<a class="ulink" href="http://python.org/" target="_top">http://python.org</a>.
					Unpack it for instance to <code class="filename">C:\Python-3.4.0</code>.
				</p><p>
					Open the solution file <code class="filename">PCBuild\pcbuild.sln</code>.
					Build the desired version. Read also <code class="filename">PCBuild\readme.txt</code>.
				</p><p>
					Copy the resulting <code class="filename">python34_d.lib</code> on top of the downloaded
					binary vesion in for instance <code class="filename">C:\Python34\libs</code> and
					<code class="filename">python34_d.dll</code> to <code class="filename">C:\Python34\DLLs</code>.
				</p><p>
					You will have to set the 'PYTHON_XXX' variables in
					<code class="filename">makefiles\nmake\config.mk</code> as follows:
					
					</p><pre class="programlisting">
	PYTHON_DIR = C:\Python34
	PYTHON_VERSION = 34
	PYTHON_MAJOR_VERSION = 3
	PYTHON_LIB_DIR = $(PYTHON_DIR)\libs
	PYTHON_DLL_DIR = $(PYTHON_DIR)\DLLs
					</pre><p>
				</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380555564"></a>1.3.14. Printing support with libhpdf</h3></div></div></div><p>
				<span class="application">Wolframe</span> can print
				with libhpdf (<a class="ulink" href="http://libharu.org/" target="_top">http://libharu.org/</a>,
				also called libharu).
			</p><p>
				The libhpdf library is embedded in the subdirectory
				<code class="filename">3rdParty/libhpdf</code>.
			</p><p>
				You enable the building of a loadable libhpdf printing
				module with:

		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_LIBHPDF=1
			</pre><p>
							
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380558596"></a>1.3.15. Image processing with FreeImage</h3></div></div></div><p>
				<span class="application">Wolframe</span> can manipulate
				various image formats with the help of
				the FreeImage project (<a class="ulink" href="http://freeimage.sourceforge.net" target="_top">http://freeimage.sourceforge.net</a>).
			</p><p>
				The FreeImage package is embedded in the subdirectory
				<code class="filename">3rdParty/freeimage</code>.
			</p><p>
				You enable the building of a loadable FreeImage processing
				module with:

		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_SYSTEM_FREEIMAGE=1
			</pre><p>
							
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380561700"></a>1.3.16. zlib and libpng</h3></div></div></div><p>
				Libhpdf needs the zlib and libpng libraries.
			</p><p>
				The libpng and zlib libraries are embedded in the subdirectory
				<code class="filename">3rdParty/zlib</code> and <code class="filename">3rdParty/libpng</code>.
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380563524"></a>1.3.17. Support for ICU</h3></div></div></div><p>
				<span class="application">Wolframe</span> can use
				the International Components for Unicode
				(ICU, <a class="ulink" href="http://site.icu-project.org/" target="_top">http://site.icu-project.org</a>)
				library for text normalization and conversion.
			</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380564908"></a>Use prebuild version of ICU</h4></div></div></div><p>
					You can take the pre-build ZIP-files from
					<a class="ulink" href="http://site.icu-project.org/" target="_top">http://site.icu-project.org</a>,
					called somthing like <code class="filename">icu4c-52_1-Win32-msvc10.zip</code> and
					unpack them in for instance <code class="filename">C:\icu4c-52_1_1-Win32-msvc10</code>.
				</p><p>
					You will have to set the 'ICU_XXX' variables in
					<code class="filename">makefiles\nmake\config.mk</code> as follows:
					
					</p><pre class="programlisting">
	ICU_LIB_VERSION = 52
	ICU_DIR = C:\icu4c-52_1-Win32-msvc10\icu
					</pre><p>
				</p><p>
					You also have to build your own version of Boost, meaning the 'boost-locale'
					library has to be built with ICU support enabled and you have to enable the
					'regex' and the 'locale' boost libraries too:
				
					</p><pre class="programlisting">
	bootstrap
	.\b2 --prefix=C:\boost\boost_1_55 ^
		--with-thread --with-filesystem --with-system --with-program_options ^
		--with-date_time --with-locale --with-regex ^
		-sICU_PATH="C:\icu4c-52_1-win32-debug" ^
		architecture=x86 address-model=64 toolset=msvc ^
		install
					</pre><p>

				</p><p>
					<span class="bold"><strong>Note</strong></span>: The binary installation packages from
					<a class="ulink" href="http://site.icu-project.org/" target="_top">http://site.icu-project.org</a>) do not
					contain debug versions of the library. If you want to build a debugging version of 
					<span class="application">Wolframe</span> you have to build your own version of ICU.
				</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380570668"></a>Build you own version of ICU</h4></div></div></div><p>
					You have to get the ZIP file with the Windows sources called
					<code class="filename">icu4c-51_1-src.zip</code> from
					<a class="ulink" href="http://site.icu-project.org/" target="_top">http://site.icu-project.org</a>.
					Unpack it for instance to <code class="filename">C:\icu4c-52_1-src</code>.
				</p><p>
					Open the solution file <code class="filename">icu\source\allinone\allinone.sln</code>.
					Build the desired version (Release or Debug, 32-bit or 64-bit).
				</p><p>
					Best is to copy the resulting artifacts into a directory
					like <code class="filename">C:\icu4c-52_1-win32-debug</code>. Copy in
					there the <code class="filename">include</code>, <code class="filename">bin</code>
					and <code class="filename">lib</code> directories.					
				</p><p>
					Adapt the 'ICU_XXX' variables in
					<code class="filename">makefiles\nmake\config.mk</code> as follows:
					
					</p><pre class="programlisting">
	ICU_LIB_VERSION = 52
	ICU_DIR = C:\icu4c-52_1-win32-debug
					</pre><p>
				</p><p>
					You build boost with boost-locale and ICU backend exactly the
					same way as with the pre-compiled version of ICU:

					</p><pre class="programlisting">
	bootstrap
	.\b2 --prefix=C:\boost\boost_1_55 ^
		--with-thread --with-filesystem --with-system --with-program_options ^
		--with-date_time --with-locale --with-regex ^
		-sICU_PATH="C:\icu4c-52_1-win32-debug" ^
		architecture=x86 address-model=64 toolset=msvc ^
		install
					</pre><p>
				</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380577500"></a>1.3.18. Testing Wolframe</h3></div></div></div><p>
				<span class="application">Wolframe</span> has tests
				written in Google gtest
				(<a class="ulink" href="https://code.google.com/p/googletest/" target="_top">https://code.google.com/p/googletest/</a>).
			</p><p>
				Tests are run with:
		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 test
			</pre><p>
			</p><p>
				Some tests run for a long time (regression and stress
				tests). They are not run per default when calling
				'make test', but you have to call:
		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 longtest
			</pre><p>
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380580724"></a>1.3.19. Testing with Expect</h3></div></div></div><p>
				Some more complex tests are written with Expect
				(<a class="ulink" href="http://expect.sourceforge.net/" target="_top">http://expect.sourceforge.net/</a>).
			</p><p>
				You enable testing with Expect with:

		        </p><pre class="programlisting">
	nmake /nologo /f Makefile.W32 WITH_EXPECT=1
			</pre><p>

			</p><p>
				You can get a Windows version of TCL from
				<a class="ulink" href="http://www.activestate.com/activetcl/" target="_top">http://www.activestate.com/activetcl/</a>.
				Take the 32-bit community version, the the 64-bit version had no Expect available
				(at least at the time of writting).
			</p><p>
				Install ActiveTcl 8.6.1 to for instance
				<code class="filename">C:\Tcl86</code>.
			</p><p>
				Install Expect with:

				</p><pre class="programlisting">
	cd C:\Tcl86
	teacup install Expect
				</pre><p>
			</p><p>
				Adapt the following variable in
				<code class="filename">makefiles\nmake\config.mk</code>:
				
				</p><pre class="programlisting">
	TCL_DIR = C:\Tcl86
				</pre><p>
			</p><p>
				Some tests also need 'telnet'. If telnet is not
				enabled as Windows feature, enable it in
				"Control Panel", "Windows Features" under "Telnet Client".
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380586396"></a>1.3.20. Building the documentation</h3></div></div></div><p>
				The documentation including the man pages is written using
				DocBook 
				(<a class="ulink" href="http://www.docbook.org" target="_top">http://www.docbook.org</a>).
			</p><p>
				You need the Docbook XSLT files from
				<a class="ulink" href="http://sourceforge.net/projects/docbook/files/docbook-xsl-ns/" target="_top">http://sourceforge.net/projects/docbook/files/docbook-xsl-ns/</a>.
				Install them and set the 'XSLT_HTMLHELP_STYLESHEET' variable
				in <code class="filename">makefiles\nmake\config.mk</code>:
				
				</p><pre class="programlisting">
	XSLT_HTMLHELP_STYLESHEET = C:\docbook-xsl-1.76.1\htmlhelp\htmlhelp.xsl
				</pre><p>
				
				You will also need a working <code class="filename">xsltproc.exe</code>.
			</p><p>
				For generating CHM help files you have to install
				the "HTML Help Workshop and Documentation" from Microsoft.
				Install it and set the 'HHC_LOCATION' variable
				in <code class="filename">makefiles\nmake\config.mk</code>:

				</p><pre class="programlisting">
	HHC_LOCATION = C:\Program Files\HTML Help Workshop\hhc.exe	
				</pre><p>
			</p><p>
				Developer documentation is generated with Doxygen
				(<a class="ulink" href="http://www.doxygen.org" target="_top">http://www.doxygen.org</a>).		
			</p><p>
				Get Doxygen from <a class="ulink" href="http://www.stack.nl/~dimitri/doxygen/" target="_top">http://www.stack.nl/~dimitri/doxygen/</a>,
				install it to for instance <code class="filename">C:\Doxygen</code> and
				set the 'DOXYGEN' variable in
				<code class="filename">makefiles\nmake\config.mk</code>:
				
				</p><pre class="programlisting">
	DOXYGEN = C:\Doxygen\bin\doxygen.exe
				</pre><p>
			</p></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380593700"></a>1.3.21. Building the wolfclient</h3></div></div></div><p>
	The <span class="application">wolfclient</span> is a Qt-based client
	for the <span class="application">Wolframe</span> server.
</p><p>
	You build it for Qt 4 with:
	
	</p><pre class="programlisting">
	C:\Qt\4.8.1\bin\qmake.exe -config debug -recursive
	nmake
	</pre><p>

	respectively for a release version:
	
	</p><pre class="programlisting">
	C:\Qt\4.8.1\bin\qmake.exe -config release -recursive
	nmake
	</pre><p>
</p><p>
	You build it for Qt 5 with:
	
	</p><pre class="programlisting">
	C:\Qt\Qt5.2.1\5.2.1\msvc2010\bin\qmake.exe -config debug -recursive
	nmake
	</pre><p>

	respectively for a release version:
	
	</p><pre class="programlisting">
	C:\Qt\Qt5.2.1\5.2.1\msvc2010\bin\qmake.exe -config release -recursive
	nmake
	</pre><p>
</p><p>
	If you want SSL support you have to download or build OpenSSL
	and rebuild Qt 4 or Qt 5 with SSL support:
</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380640196"></a>1.3.21.1. Secure Socket Layer (SSL)</h3></div></div></div><p>
				The <span class="application">Wolframe</span> protocol can
				be secured with SSL. Currently only OpenSSL
				(<a class="ulink" href="http://www.openssl.org" target="_top">http://www.openssl.org</a>)
				is supported.
			
			</p><p>
				<span class="bold"><strong>Note</strong></span>: No matter whether you
				use the precompiled version or if you build OpenSSL on your own
				use the 0.9.8, 1.0.0 or 1.0.1g versions, but not  the version
				1.0.1 through 1.0.1f (Heartbleed bug)!
			</p><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380642316"></a>Use prebuild version of OpenSSL</h4></div></div></div><p>
					
					You can get a prebuilt version of OpenSSL from
					<a class="ulink" href="http://www.slproweb.com/products/Win32OpenSSL.html" target="_top">http://www.slproweb.com/products/Win32OpenSSL.html</a>.
					Despite the name you get also 64-bit versions there.
				</p><p>
					Install the developer version (for instance <code class="filename">Win32OpenSSL-1_0_1g.exe</code>)
					for instance to <code class="filename">C:\OpenSSL-Win32</code>.
				</p><p>
					Do not copy the OpenSSL binaries to the Windows system directory, copy
					them to the Bin subdirectory of the OpenSSL installation directory!
				</p><p>
					Set the "BOOST_XXX" variables in
					<code class="filename">makefiles\nmake\config.mk</code> as follows:
					
					</p><pre class="programlisting">
	OPENSSL_DIR = C:\OpenSSL-Win32
					</pre><p>
				</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380646020"></a>Build your own version of OpenSSL</h4></div></div></div><p>
					You need the community edition of ActivePerl from
					<a class="ulink" href="http://www.activestate.com/activeperl/" target="_top">http://www.activestate.com/activeperl/</a>.
					Install it for instance to <code class="filename">C:\Perl</code>.
				</p><p>
					You will also need NASM to assemble certain
					parts of OpenSSL. You can get a Windows NASM from
					<a class="ulink" href="http://www.nasm.us/" target="_top">http://www.nasm.us/</a>.
					Install it for instance to <code class="filename">C:\nasm</code>.
				</p><p>
					Make sure the Perl interpreter and the NASM assembler are part of the path in
					the shell you want to build OpenSSL:
					
					</p><pre class="programlisting">
	Set PATH=%PATH%;C:\Perl\bin;C:\nasm
					</pre><p>
				</p><p>
					Get the source package <code class="filename">openssl-1.0.1g.tar.gz</code> of OpenSSL from
					<a class="ulink" href="http://www.openssl.org" target="_top">http://www.openssl.org</a>.
				</p><p>
					Configure the package with:
					
					</p><pre class="programlisting">
	perl Configure debug-VC-WIN32 \
		--prefix="C:\openssl-1.0.1g-win32-debug"
					</pre><p>
					
					for a debug version, respectively with:
					
					</p><pre class="programlisting">
	perl Configure VC-WIN32 \
		--prefix="C:\openssl-1.0.1g-win32-release"
					</pre><p>
					
					for a release version.
				</p><p>
					<span class="bold"><strong>Note</strong></span>:
					Make sure there prefix you choose has no spaces in it!
				</p><p>
					Prepare OpenSSL for NASM support with:
					
					</p><pre class="programlisting">
	ms\do_nasm.bat
					</pre><p>
				</p><p>
					Build and install OpenSSL now with:
					</p><pre class="programlisting">
	nmake /f ms\ntdll.mak
	nmake /f ms\ntdll.mak install
					</pre><p>
				</p><p>
					More build information is available
					in <code class="filename">INSTALL.W32</code> and
					<code class="filename">INSTALL.W64</code> of the 
					OpenSSL package itself.
				</p></div></div><div class="sect2"><div class="titlepage"><div><div><h3 class="title"><a id="idp1380655348"></a>1.3.21.2. Qt libraries</h3></div></div></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380655692"></a>Use prebuild version of Qt</h4></div></div></div><p>
					Make sure you download the correct Qt package fitting your
					architecture and Microsoft Visual Studio version.
				</p><p>
					If you take the prebuild Qt libraries you have to disable the
					building of SSL-enabled code by removing the
					'WITH_SSL=1' definition in the 'DEFINES' directive in
					<code class="filename">libqtwolfclient/libqtwolfclient.pro</code>.
				</p></div><div class="sect3"><div class="titlepage"><div><div><h4 class="title"><a id="idp1380657188"></a>Build your own version of Qt</h4></div></div></div><p>
					Set the following environment variables in order for Qt to
					find the OpenSSL header files and libraries:\
					
					</p><pre class="programlisting">
	set OPENSSL_DIR=C:\openssl-1.0.1g-win32-debug
	set INCLUDE=%INCLUDE%;%OPENSSL_DIR%\include
	set LIB=%LIB%;%OPENSSL_DIR%\lib
					</pre><p>
					
					or for the release version:
					
					</p><pre class="programlisting">
	set OPENSSL_DIR=C:\openssl-1.0.1g-win32-release
	set INCLUDE=%INCLUDE%;%OPENSSL_DIR%\include
	set LIB=%LIB%;%OPENSSL_DIR%\lib
					</pre><p>
					
				</p><p>
					Compile Qt with OpenSSL enabled:
					
					</p><pre class="programlisting">
	configure -platform win32-msvc2010 -debug -openssl
	nmake
					</pre><p>
				</p><p>
					For a release version use:

					</p><pre class="programlisting">
	configure -platform win32-msvc2010 -release -openssl
	nmake
					</pre><p>
				</p></div></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="bk03ch01s02.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="bk03ch01.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="bk04.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1.2. Building on Unix systems </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Wolframe Server Extension Modules</td></tr></table></div></div></div>

<!-- Footer -->
<div xmlns="" class="wrapper row2">
	<div id="footer" class="clear">
		<div class="one_third first">
			<h2 class="footer_title">Documentation</h2>
			<nav class="footer_nav">
				<ul class="nospace">
					<li><a href="/documentation.html">User documentation</a></li>
					<li><a href="/documentation.html">Developer documentation</a></li>
				</ul>
			</nav>
		</div>

		<div class="one_third">
			<h2 class="footer_title">Downloads</h2>
			<nav class="footer_nav">
				<ul class="nospace">
					<li><a href="/downloads.html">Hosted on Github</a></li>
					<li><a href="/downloads.html">Packages on Sourceforge</a></li>
				</ul>
			</nav>
		</div>

		<div class="one_third">
			<h2 class="footer_title">Contact Us</h2>
			<nav class="footer_nav">
				<ul class="nospace">
					<li><strong>Email:</strong> <a href="/mailto:contact@wolframe.net">contact@wolframe.net</a></li>
					<li>
						<a id="googleplus-bttn" href="http://plus.google.com/116915890857205562872?prsrc=3" rel="publisher" target="_top" style="text-decoration:none;">
							<span>Google+</span></a>
						<a id="linkedin-bttn" href="#" target="_top" style="text-decoration:none;">
							<span>LinkedIn</span></a>
						<a id="twitter-bttn" href="http://twitter.com/ProjectWolframe" target="_top" style="text-decoration:none;">
							<span>twitter</span></a>
						<a id="rss-bttn" href="#" target="_top" style="text-decoration:none;">
							<span>rss</span></a>
					</li>
					<li>
						<a href="https://twitter.com/ProjectWolframe" class="twitter-follow-button" data-show-count="false" data-show-screen-name="false">Follow @ProjectWolframe</a>
						<div class="google-follow-button"><div class="g-follow" data-annotation="none" data-height="20" data-href="http://plus.google.com/116915890857205562872" data-rel="publisher"></div></div>
						<div class="google-plusone-button"><div class="g-plusone" data-href="http://www.wolframe.net" data-size="medium"></div></div>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>

<div xmlns="" class="wrapper row4">
	<div id="copyright" class="clear">
		<p class="fl_left">Copyright © 2014 - <a href="#">Project Wolframe</a> - All Rights Reserved</p>
		<p class="fl_right"><a href="/copyright.html">Copyrights and credits</a></p>
	</div>
</div>

<!-- Scripts -->
<script xmlns="" src="http://code.jquery.com/jquery-latest.min.js"></script>
<script xmlns="" src="http://code.jquery.com/ui/1.10.1/jquery-ui.min.js"></script>
<script xmlns="">window.jQuery || document.write('\x3Cscript src="/layout/scripts/jquery-latest.min.js"&gt;\x3C\/script&gt;\
\x3Cscript src="/layout/scripts/jquery-ui.min.js"&gt;\x3C\/script&gt;')</script>
<script xmlns="">jQuery(document).ready(function($){ $('img').removeAttr('width height'); });</script>
<script xmlns="" src="/layout/scripts/jquery-mobilemenu.min.js"></script>
<script xmlns="" src="/layout/scripts/custom.js"></script>

<!-- Google analytics tracking -->
<script xmlns="" type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-46433226-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

<!-- Tweeter follow script -->
<script xmlns="">
	!function( d, s, id )	{
		var js, fjs = d.getElementsByTagName(s)[0], p = /^http:/.test(d.location)?'http':'https';
		if( !d.getElementById( id ))	{
			js = d.createElement( s );
			js.id = id;
			js.src = p + '://platform.twitter.com/widgets.js';
			fjs.parentNode.insertBefore( js,fjs );
		}
	} ( document, 'script', 'twitter-wjs' );
</script>

<!-- Google +1, follow -->
<script xmlns="" type="text/javascript">
	window.___gcfg = {
		lang: 'en-US',
		parsetags: 'onload'
	};
	( function()	{
		var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
		po.src = 'https://apis.google.com/js/plusone.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
	}) ();
</script>

</body></html>